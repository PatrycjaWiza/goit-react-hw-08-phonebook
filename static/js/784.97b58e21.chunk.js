"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[784],{784:function(e,t,n){n.r(t),n.d(t,{default:function(){return te}});var r=n(9434),a=n(6962),o=n(2791),i=n(3634),c=n(3360),u=n(1413),s=n(5987),l=n(1694),f=n.n(l);n(2391);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var v=n(3366);n(2176);function p(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function h(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function m(e,t){return Object.keys(t).reduce((function(n,r){var a,i=n,c=i[p(r)],u=i[r],s=(0,v.Z)(i,[p(r),r].map(h)),l=t[r],f=function(e,t,n){var r=(0,o.useRef)(void 0!==e),a=(0,o.useState)(t),i=a[0],c=a[1],u=void 0!==e,s=r.current;return r.current=u,!u&&s&&i!==t&&c(t),[u?e:i,(0,o.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];n&&n.apply(void 0,[e].concat(r)),c(e)}),[n])]}(u,c,e[l]),m=f[0],b=f[1];return d({},s,((a={})[r]=m,a[l]=b,a))}),e)}function b(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function y(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function g(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}b.__suppressDeprecationWarning=!0,y.__suppressDeprecationWarning=!0,g.__suppressDeprecationWarning=!0;var x=Function.prototype.bind.call(Function.prototype.call,[].slice);var j=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var C=function(e,t){return(0,o.useMemo)((function(){return function(e,t){var n=j(e),r=j(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])},w=o.createContext(null);w.displayName="NavContext";var Z=w,S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},k=o.createContext(null),N=o.createContext(null);function I(e){return"".concat("data-rr-ui-").concat(e)}var _=n(885);var A=function(e){var t=(0,o.useRef)(e);return(0,o.useEffect)((function(){t.current=e}),[e]),t};function K(e){var t=A(e);return(0,o.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var O=n(5341),P=n(3329),D=["as","active","eventKey"];function E(e){var t=e.key,n=e.onClick,r=e.active,a=e.id,i=e.role,c=e.disabled,u=(0,o.useContext)(k),s=(0,o.useContext)(Z),l=(0,o.useContext)(N),f=r,d={role:i};if(s){i||"tablist"!==s.role||(d.role="tab");var v=s.getControllerId(null!=t?t:null),p=s.getControlledId(null!=t?t:null);d[I("event-key")]=t,d.id=v||a,!(f=null==r&&null!=t?s.activeKey===t:r)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(d["aria-controls"]=p)}return"tab"===d.role&&(d["aria-selected"]=f,f||(d.tabIndex=-1),c&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=K((function(e){c||(null==n||n(e),null!=t&&u&&!e.isPropagationStopped()&&u(t,e))})),[d,{isActive:f}]}var F=o.forwardRef((function(e,t){var n=e.as,r=void 0===n?O.ZP:n,a=e.active,o=e.eventKey,i=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,D),c=E(Object.assign({key:S(o,i.href),active:a},i)),u=(0,_.Z)(c,2),s=u[0],l=u[1];return s[I("active")]=l.isActive,(0,P.jsx)(r,Object.assign({},i,s,{ref:t}))}));F.displayName="NavItem";var R=F,z=["as","onSelect","activeKey","role","onKeyDown"];var L=function(){},U=I("event-key"),q=o.forwardRef((function(e,t){var n,r,a=e.as,i=void 0===a?"div":a,c=e.onSelect,u=e.activeKey,s=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,z),d=(0,o.useReducer)((function(e){return!e}),!1)[1],v=(0,o.useRef)(!1),p=(0,o.useContext)(k),h=(0,o.useContext)(N);h&&(s=s||"tablist",u=h.activeKey,n=h.getControlledId,r=h.getControllerId);var m=(0,o.useRef)(null),b=function(e){var t=m.current;if(!t)return null;var n,r,a=(n=t,r="[".concat(U,"]:not([aria-disabled=true])"),x(n.querySelectorAll(r))),o=t.querySelector("[aria-selected=true]");if(!o||o!==document.activeElement)return null;var i=a.indexOf(o);if(-1===i)return null;var c=i+e;return c>=a.length&&(c=0),c<0&&(c=a.length-1),a[c]},y=function(e,t){null!=e&&(null==c||c(e,t),null==p||p(e,t))};(0,o.useEffect)((function(){if(m.current&&v.current){var e=m.current.querySelector("[".concat(U,"][aria-selected=true]"));null==e||e.focus()}v.current=!1}));var g=C(t,m);return(0,P.jsx)(k.Provider,{value:y,children:(0,P.jsx)(Z.Provider,{value:{role:s,activeKey:S(u),getControlledId:n||L,getControllerId:r||L},children:(0,P.jsx)(i,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),h){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=b(-1);break;case"ArrowRight":case"ArrowDown":t=b(1);break;default:return}if(t)e.preventDefault(),y(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),v.current=!0,d()}},ref:g,role:s}))})})}));q.displayName="Nav";var G=Object.assign(q,{Item:R}),B=n(162),M=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],W=o.forwardRef((function(e,t){var n=e.bsPrefix,r=e.active,a=e.disabled,o=e.eventKey,i=e.className,c=e.variant,l=e.action,d=e.as,v=(0,s.Z)(e,M);n=(0,B.vE)(n,"list-group-item");var p=E((0,u.Z)({key:S(o,v.href),active:r},v)),h=(0,_.Z)(p,2),m=h[0],b=h[1],y=K((function(e){if(a)return e.preventDefault(),void e.stopPropagation();m.onClick(e)}));a&&void 0===v.tabIndex&&(v.tabIndex=-1,v["aria-disabled"]=!0);var g=d||(l?v.href?"a":"button":"div");return(0,P.jsx)(g,(0,u.Z)((0,u.Z)((0,u.Z)({ref:t},v),m),{},{onClick:y,className:f()(i,n,b.isActive&&"active",a&&"disabled",c&&"".concat(n,"-").concat(c),l&&"".concat(n,"-action"))}))}));W.displayName="ListGroupItem";var T=W,V=["className","bsPrefix","variant","horizontal","numbered","as"],J=o.forwardRef((function(e,t){var n,r=m(e,{activeKey:"onSelect"}),a=r.className,o=r.bsPrefix,i=r.variant,c=r.horizontal,l=r.numbered,d=r.as,v=void 0===d?"div":d,p=(0,s.Z)(r,V),h=(0,B.vE)(o,"list-group");return c&&(n=!0===c?"horizontal":"horizontal-".concat(c)),(0,P.jsx)(G,(0,u.Z)((0,u.Z)({ref:t},p),{},{as:v,className:f()(a,h,i&&"".concat(h,"-").concat(i),n&&"".concat(h,"-").concat(n),l&&"".concat(h,"-numbered"))}))}));J.displayName="ListGroup";var $=Object.assign(J,{Item:T}),H=function(e){var t=e.contacts,n=e.toDelete;return(0,P.jsx)($,{children:t.map((function(e){var t=e.name,r=e.number,a=e.id;return(0,P.jsxs)($.Item,{children:[(0,P.jsx)(c.Z,{className:"deleteBtn",size:"sm",type:"submit",onClick:function(){n(a)},children:"Delete"}),t,": ",r]},a)}))})},Q=n(2936),X=function(e){var t=e.onChange,n=e.value;return(0,P.jsxs)("div",{className:"findContact",children:[(0,P.jsx)(Q.Z.Label,{children:"Find contacts by name"}),(0,P.jsx)(Q.Z.Control,{type:"text",name:"filter",value:n,onChange:t})]})},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")},ee=function(e){var t=e.onSubmit,n=(0,o.useState)(""),r=(0,_.Z)(n,2),a=r[0],i=r[1],u=(0,o.useState)(""),s=(0,_.Z)(u,2),l=s[0],f=s[1],d=Y(),v=function(){i(""),f("")};return(0,P.jsxs)(Q.Z,{onSubmit:function(e){e.preventDefault();var n={id:Y(),name:a,number:l};t(n),v()},children:[(0,P.jsxs)(Q.Z.Group,{children:[(0,P.jsx)(Q.Z.Label,{htmlFor:d,children:"Name"}),(0,P.jsx)(Q.Z.Control,{id:d,type:"text",name:"name",value:a,onChange:function(e){i(e.target.value)},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,P.jsxs)(Q.Z.Group,{children:[(0,P.jsx)(Q.Z.Label,{htmlFor:d,children:"Number"}),(0,P.jsx)(Q.Z.Control,{id:d,type:"tel",name:"number",value:l,onChange:function(e){f(e.target.value)},pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,P.jsx)(c.Z,{className:"addContactBtn",type:"submit",children:"Add contact"})]})};function te(){var e=(0,r.v9)((function(e){return e.contacts.items})),t=(0,r.v9)((function(e){return e.contacts.filter})),n=(0,r.I0)(),c=(0,r.v9)((function(e){return e.contacts.loading})),u=(0,r.v9)((function(e){return e.contacts.error})),s=(0,r.v9)((function(n){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}));(0,o.useEffect)((function(){n((0,i.yF)())}),[n]);return(0,P.jsxs)("div",{children:[(0,P.jsx)("h2",{children:"Phonebook"}),(0,P.jsx)(ee,{onSubmit:function(t){return e.map((function(e){return e.name})).includes(t.name)?alert("".concat(t.name," is already in contacts.")):n((0,i.uK)(t))}}),(0,P.jsx)("h2",{children:"Contacts"}),(0,P.jsx)(X,{value:t,onChange:function(e){n(a.K(e.target.value))}}),c&&(0,P.jsx)("p",{children:"Loading..."}),(0,P.jsx)(H,{contacts:s,toDelete:function(e){return n((0,i.GK)(e))&&n((0,i.yF)())}}),u&&(0,P.jsx)("p",{children:"error.message"})]})}},2176:function(e){e.exports=function(e,t,n,r,a,o,i,c){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,a,o,i,c],l=0;(u=new Error(t.replace(/%s/g,(function(){return s[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}}}]);
//# sourceMappingURL=784.97b58e21.chunk.js.map